@inherits CslaInputBase
@using MB5.Common.Extensions

@{
    var value = Property.Value;
}
@if (Property.CanRead)
{
    string defaultFormat = null;

    switch (value)
    {
        case double:
            defaultFormat = "{0:N2}";
            break;
        case decimal:
            defaultFormat = "{0:F2}";
            break;
        case int:
            defaultFormat = "{0:N0}";
            break;
        case DateTime:
            defaultFormat = "{0:dd MMM yyyy}";
            break;
        case bool yes:
            value = yes ? "Yes" : "No";
            break;
        default:
            break;
    }

    if (string.IsNullOrWhiteSpace(Format))
    {
        Format = defaultFormat;
    }

    if (!string.IsNullOrWhiteSpace(Format))
    {
        value = string.Format(Format, Property.Value);
    }

    if (value is Enum anEnum)
    {
        value = anEnum.ToDisplayName();
    }
}
else
{
    value = "*****";
}

<label class="k-label k-form-label">@value</label>
